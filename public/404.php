<?php
// public/404.php
require_once __DIR__ . '/../app/Config/Config.php';

if (session_status() === PHP_SESSION_NONE) session_start();

// Dynamically determine where the "Go Back" button should take the user
$home_link = 'login.php';
$btn_text = 'Go to Login';

if (isset($_SESSION['user_id'])) {
    if (isset($_SESSION['role']) && $_SESSION['role'] === 'client') {
        $home_link = '../management/dashboard.php';
        $btn_text = 'Return to Dashboard';
    } else {
        $home_link = '../portal/dashboard.php';
        $btn_text = 'Return to Dashboard';
    }
}
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 Not Found | Basmat Rooq</title>
    
    <link rel="stylesheet" href="<?php echo BASE_URL; ?>assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="<?php echo BASE_URL; ?>assets/css/theme.css">
    <link rel="stylesheet" href="<?php echo BASE_URL; ?>assets/css/mobile.css">
</head>
<body class="d-flex align-items-center justify-content-center min-vh-100 error-page-body">

    <div id="global-loader" class="global-loader">
        <div class="rooq-spinner"></div>
    </div>

    <div class="error-bg-glow"></div>

    <div class="container text-center position-relative" style="z-index: 10;">
        <div class="error-container glass-panel mx-auto">
            
            <svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 325" class="img-fluid mb-4 error-svg">
                <style>.s0{fill:#d4af37}.s1{fill:none;stroke:#485f66;stroke-miterlimit:10}.s2{fill:#395156}.s3{fill:#485f66}.s4{fill:#6d8189}.s5{fill:#63797f}.s6{fill:#ffc84d}.s7{fill:#f7bc14}</style>
                <g id="OBJECTS"><g id="XMLID_124_"><path id="XMLID_127_" class="s0" d="m154.04 43.62-31.21 74.94h12.71V93.33h39.43v25.23h14.95v30.83h-14.95v25.41h-39.43v-25.41H79.67v-28.03l33.63-77.74z"/><path id="XMLID_129_" class="s0" d="M301.11 67.21c0 42.98-18.87 66.72-52.88 66.72-34.39 0-53.08-23.74-53.08-66.72S213.84.5 248.23.5c34.01 0 52.88 23.73 52.88 66.71m-65.03 0c0 27.47 2.8 37.56 12.15 37.56 9.15 0 11.96-10.09 11.96-37.56 0-27.66-2.81-37.56-11.96-37.56-9.35 0-12.15 9.91-12.15 37.56"/><path id="XMLID_132_" class="s0" d="m384.65 43.62-31.21 74.94h12.71V93.33h39.43v25.23h14.95v30.83h-14.95v25.41h-39.43v-25.41h-55.88v-28.03l33.64-77.74z"/></g><path id="XMLID_109_" fill-rule="evenodd" class="s0" d="M221.51 324.84c-14.88 0-26.9-4.52-26.9-10.11 0-5.6 12.02-10.12 26.9-10.12s26.91 4.52 26.91 10.12c0 5.59-12.03 10.11-26.91 10.11"/><path id="XMLID_134_" fill-rule="evenodd" class="s0" d="M280.01 324.84c-14.88 0-26.9-4.52-26.9-10.11 0-5.6 12.02-10.12 26.9-10.12s26.91 4.52 26.91 10.12c0 5.59-12.03 10.11-26.91 10.11"/><g id="XMLID_119_"><path id="XMLID_123_" fill-rule="evenodd" class="s1" d="M500 254.31s-111.8 17.35-128.45-29.84c-16.06-45.52-16.51-81.15-26.8-90.14"/><path id="XMLID_81_" fill-rule="evenodd" class="s1" d="M0 254.31s111.98 17.35 128.64-29.84c16.06-45.52 16.51-81.15 26.8-90.14"/><g id="XMLID_56_"><path id="XMLID_103_" fill-rule="evenodd" class="s2" d="m277.75 270.82-4.63 30.92h-10.23l-4.63-30.92z"/><path id="XMLID_96_" fill-rule="evenodd" class="s3" d="m273.14 270.82-4.62 30.92h-5.63l-4.63-30.92z"/><path id="XMLID_51_" fill-rule="evenodd" class="s2" d="m271.79 320.13 17.39-4.37-15.41-14.72h-10.83v5.07z"/><path id="XMLID_102_" fill-rule="evenodd" class="s2" d="m276.13 257.57-12.9 2.08-.79.12-5.74.93-.18-.7-9.82-38.43 7.54-1 .79-.1 10.36-1.37 4.45-.6z"/><path id="XMLID_91_" fill-rule="evenodd" class="s3" d="m271.58 257.57-12.89 2.08-.8.12-1.37.23-9.82-38.43 7.54-1 .79-.1 10.36-1.37z"/><path id="XMLID_55_" fill-rule="evenodd" class="s2" d="m277.43 261.09-20.94 3.38-.81-5.04 20.94-3.38z"/><path id="XMLID_104_" fill-rule="evenodd" class="s2" d="m278.44 265.98-3.19.34-17.9 1.94-.55-5.08 17.89-1.94 3.19-.34z"/><path id="XMLID_88_" fill-rule="evenodd" class="s3" d="m256.8 263.18 17.9-1.94.55 5.08-17.9 1.94z"/><path id="XMLID_53_" fill-rule="evenodd" class="s2" d="m278.52 271.12-21.14 1.74-.42-5.09 21.14-1.74z"/><path id="XMLID_67_" fill-rule="evenodd" class="s3" d="M289.18 315.76v3.77l-17.39.6z"/><g id="XMLID_80_"><path id="XMLID_89_" fill-rule="evenodd" class="s2" d="m268.18 306.14-.8.07-3.47-39.39-1.48-7.05-8.19-39.2.79-.1 8.2 39.18 1.47 7.05z"/></g><path id="XMLID_107_" fill-rule="evenodd" class="s2" d="m239.41 270.82-4.63 30.92h-10.23l-4.63-30.92z"/><path id="XMLID_99_" fill-rule="evenodd" class="s3" d="m235.67 270.82-4.63 30.92h-6.49l-4.63-30.92z"/><path id="XMLID_40_" fill-rule="evenodd" class="s2" d="m225.89 320.13-17.4-4.37 15.94-14.85 10.31.13v5.07z"/><path id="XMLID_105_" fill-rule="evenodd" class="s2" d="m251.27 221.57-10 39.13-3.78-.61-1.25-.2-.78-.13-13.62-2.19 6.21-38.55.08-.52 15.52 2.06.8.11z"/><path id="XMLID_86_" fill-rule="evenodd" class="s3" d="m247.33 221.57-9.84 38.52-1.25-.2-.78-.13-13.62-2.19 6.21-38.55 11.65 1.54.81.11z"/><path id="XMLID_94_" fill-rule="evenodd" class="s2" d="m241.98 259.42-.81 5.04-20.94-3.37.81-5.04 14.7 2.37.78.12z"/><path id="XMLID_108_" fill-rule="evenodd" class="s2" d="m240.88 263.18-.55 5.08-3.57-.39-17.52-1.89.55-5.08 17.52 1.9z"/><path id="XMLID_98_" fill-rule="evenodd" class="s3" d="m237.31 262.8-.55 5.07-17.52-1.89.55-5.08z"/><path id="XMLID_47_" fill-rule="evenodd" class="s2" d="m219.54 266.06 21.15 1.73-.42 5.09-21.14-1.73z"/><path id="XMLID_66_" fill-rule="evenodd" class="s3" d="M208.49 315.76v3.74l17.4.63z"/><g id="XMLID_77_"><path id="XMLID_93_" fill-rule="evenodd" class="s2" d="M233.64 270.82h.8l-2.72 30.92h-.8z"/><path id="XMLID_92_" fill-rule="evenodd" class="s2" d="m244.45 220.67-7.93 37.87-.78-.12 7.91-37.86z"/></g><path id="XMLID_64_" fill-rule="evenodd" class="s4" d="M247.7 37.62h1.25v19.43h-1.25z"/><path id="XMLID_63_" class="s3" d="M254.36 62.59h-11.27v-1.03c0-3.11 2.52-5.63 5.64-5.63a5.63 5.63 0 0 1 5.63 5.63z"/><path id="XMLID_62_" fill-rule="evenodd" class="s3" d="m308.18 161.26-5.63-8.12 28.52-19.77 5.63 8.12z"/><path id="XMLID_61_" fill-rule="evenodd" class="s3" d="m269.38 156.02 32.09 7.81 2.87-10.47-36.81-15.57z"/><path id="XMLID_60_" class="s4" d="M297.47 158.28c0 3.21 2.6 5.81 5.81 5.81s5.81-2.6 5.81-5.81c0-3.2-2.6-5.81-5.81-5.81s-5.81 2.61-5.81 5.81"/><path id="XMLID_52_" class="s3" d="M299.84 158.28a3.44 3.44 0 1 0 3.44-3.44c-1.9.01-3.44 1.54-3.44 3.44"/><path id="XMLID_59_" class="s4" d="m336.24 120.92-3.51 3.71c-3.98 4.22-3.79 10.87.42 14.85 4.21 3.99 10.86 3.8 14.85-.42l3.51-3.71-4.01-3.79-3.38 3.58c-1.89 2.01-5.05 2.09-7.06.2-2-1.9-2.1-5.06-.2-7.07l3.38-3.57z"/><path id="XMLID_58_" fill-rule="evenodd" class="s3" d="m160.15 141.47 5.63-8.12 28.51 19.77-5.62 8.12z"/><path id="XMLID_57_" fill-rule="evenodd" class="s3" d="m227.47 156.02-32.09 7.81-2.87-10.47 36.81-15.13z"/><path id="XMLID_100_" class="s5" d="M268.38 67.72v47.85c0 5.23-4.24 9.46-9.46 9.46h-20.14c-5.22 0-9.46-4.23-9.46-9.46V69.99c0-4.81 3.61-8.86 8.4-9.4l16.83-1.9 3.31-.37c5.61-.64 10.52 3.75 10.52 9.4"/><path id="XMLID_97_" class="s4" d="M261.17 67.72v47.85c0 5.23-4.24 9.46-9.46 9.46h-12.93c-5.22 0-9.46-4.23-9.46-9.46V69.99c0-4.81 3.61-8.86 8.4-9.4l16.83-1.9c3.81 1.2 6.62 4.75 6.62 9.03"/><path id="XMLID_45_" class="s3" d="M255.83 129.91h-14.96c-.51 0-.93-.42-.93-.94v-3.07c0-.51.42-.93.93-.93h14.96c.51 0 .93.42.93.93v3.07c0 .52-.42.94-.93.94"/><path id="XMLID_44_" class="s2" d="M254.76 134.51h-12.82c-.48 0-.87-.38-.87-.86v-3.21c0-.48.39-.87.87-.87h12.82c.48 0 .87.39.87.87v3.21c0 .48-.39.86-.87.86"/><path id="XMLID_43_" class="s3" d="M255.54 139.02h-14.38c-.51 0-.92-.41-.92-.92V135c0-.51.41-.92.92-.92h14.38c.51 0 .92.41.92.92v3.1c0 .51-.41.92-.92.92"/><path id="XMLID_112_" class="s5" d="m276.01 149.74-1.92 40.53-.04.8-1.12 23.7-.31 6.71-.5 10.45h-46.14l-.5-10.45-.31-6.71-1.31-27.78-.04-.8-1.73-36.45c-.32-6.68 4.45-12.29 10.44-12.29h33.04c5.99 0 10.76 5.61 10.44 12.29"/><path id="XMLID_113_" class="s4" d="m265.99 149.74-1.91 40.53-.04.8-1.12 23.7-.32 6.71-.49 10.45h-36.13l-.5-10.45-.31-6.71-1.31-27.78-.04-.8-1.73-36.45c-.32-6.68 4.45-12.29 10.44-12.29h23.02c6 0 10.76 5.61 10.44 12.29"/><path id="XMLID_39_" class="s4" d="M199.38 158.28c0 3.21-2.61 5.81-5.81 5.81-3.21 0-5.81-2.6-5.81-5.81 0-3.2 2.6-5.81 5.81-5.81s5.81 2.61 5.81 5.81"/><path id="XMLID_48_" fill-rule="evenodd" class="s3" d="M193.57 161.24c-1.64 0-2.96-1.32-2.96-2.96 0-1.63 1.32-2.95 2.96-2.95 1.63 0 2.95 1.32 2.95 2.95 0 1.64-1.32 2.96-2.95 2.96"/><path id="XMLID_38_" class="s4" d="m160.6 120.92 3.52 3.71c3.98 4.22 3.79 10.87-.42 14.85-4.22 3.99-10.86 3.8-14.85-.42l-3.51-3.71 4-3.79 3.39 3.58c1.89 2.01 5.05 2.09 7.05.2 2.01-1.9 2.1-5.06.21-7.07l-3.38-3.57z"/><path id="XMLID_33_" class="s6" d="M250.14 36.85a1.854 1.854 0 0 1-3.71 0 1.854 1.854 0 0 1 3.71 0"/><path id="XMLID_68_" class="s3" d="M261.47 108.01c-8.68-5.41-17.36 5.41-26.04 0v-2.71c8.68 5.41 17.36-5.4 26.04 0z"/><g id="XMLID_75_"><path id="XMLID_72_" fill-rule="evenodd" class="s5" d="M246.18 94.29a9.19 9.19 0 0 1-13.03 0c-3.6-3.6-3.6-9.42 0-13.03 3.61-3.6 9.43-3.6 13.03 0a9.19 9.19 0 0 1 0 13.03"/><path id="XMLID_74_" fill-rule="evenodd" class="s5" d="M266.47 89.92c-1.18 4.95-6.14 8.01-11.09 6.84-4.96-1.18-8.02-6.14-6.84-11.09a9.196 9.196 0 0 1 11.09-6.84c4.96 1.17 8.01 6.13 6.84 11.09"/><path id="XMLID_73_" fill-rule="evenodd" class="s5" d="M239.59 78.56h18.3v18.42h-18.3z"/></g><path id="XMLID_65_" fill-rule="evenodd" class="s7" d="M237.73 82.97h4.21v9.72h-4.21z"/><path id="XMLID_41_" fill-rule="evenodd" class="s6" d="M238.18 83.72h3.31v8.21h-3.31z"/><path id="XMLID_69_" fill-rule="evenodd" class="s7" d="M256.06 82.97h4.21v9.72h-4.21z"/><g id="XMLID_49_"><path id="XMLID_70_" fill-rule="evenodd" class="s3" d="m233.69 81.46-1.26-1.7 10.35-8.4 2.1 3.65z"/><path id="XMLID_71_" fill-rule="evenodd" class="s3" d="m264.32 81.46 1.26-1.7-10.36-8.4-2.1 3.65z"/></g><path id="XMLID_76_" fill-rule="evenodd" class="s5" d="M231.19 152.88h35.12v22.03h-35.12z"/><path id="XMLID_54_" fill-rule="evenodd" class="s3" d="M234.6 155.01h28.31v17.76H234.6z"/><path id="XMLID_138_" fill-rule="evenodd" class="s6" d="M237.17 158.58h23.16v1.12h-23.16z"/><path id="XMLID_140_" fill-rule="evenodd" class="s6" d="M240.79 161.67h15.92v1.12h-15.92z"/><path id="XMLID_141_" fill-rule="evenodd" class="s6" d="M239.04 164.42h19.42v1.12h-19.42z"/><g id="XMLID_78_"><path id="XMLID_87_" fill-rule="evenodd" class="s3" d="m274.09 190.27-.04.8h-19.23v-9.75H237.8v5.67h-13.94l-.04-.8H237v-5.67h18.63v9.75z"/></g><path id="XMLID_42_" fill-rule="evenodd" class="s3" d="M237.4 187.86c-.81 0-1.47-.65-1.47-1.47 0-.81.66-1.47 1.47-1.47s1.47.66 1.47 1.47c0 .82-.66 1.47-1.47 1.47"/><path id="XMLID_83_" class="s3" d="M238.4 180.78c0 .56-.45 1.01-1 1.01a1.005 1.005 0 0 1 0-2.01c.55 0 1 .45 1 1"/><path id="XMLID_84_" class="s3" d="M256.23 180.78a1.005 1.005 0 1 1-2.01.01 1.005 1.005 0 0 1 2.01-.01"/><path id="XMLID_85_" class="s3" d="M256.23 190.4a1.005 1.005 0 0 1-2.01 0 1.005 1.005 0 0 1 2.01 0"/><path id="XMLID_50_" fill-rule="evenodd" class="s6" d="M256.48 83.72h3.3v8.21h-3.3z"/><path id="XMLID_46_" fill-rule="evenodd" class="s2" d="M224.51 221.38h48.88v14.72h-48.88z"/><path id="XMLID_116_" fill-rule="evenodd" class="s3" d="M224.51 221.38h32.28v14.72h-32.28z"/><path id="XMLID_106_" fill-rule="evenodd" class="s5" d="m272.93 214.77-.31 6.71h-47.14l-.31-6.71z"/></g><path id="XMLID_110_" fill-rule="evenodd" class="s1" d="M155.44 134.33q.57-.5 1.17-.88C168.06 126.16 167.8 154 167.8 154"/><g id="XMLID_79_"><g id="XMLID_101_"><path id="XMLID_82_" fill-rule="evenodd" class="s3" d="M165.41 158.2h1.18v4.33h-1.18z"/><g id="XMLID_90_"><path id="XMLID_95_" fill-rule="evenodd" class="s3" d="M169.42 158.2h1.17v4.33h-1.17z"/></g></g><path id="XMLID_120_" class="s3" d="M172.3 156.48v3.12h-8.59v-3.12a4.291 4.291 0 0 1 7.33-3.04q.16.16.3.33c.6.74.96 1.69.96 2.71"/><path id="XMLID_118_" class="s4" d="M172.3 156.48v3.12h-7.36v-2.08a4.3 4.3 0 0 1 6.4-3.75c.6.74.96 1.69.96 2.71"/></g><path id="XMLID_122_" fill-rule="evenodd" class="s1" d="M344.75 134.33q-.56-.5-1.17-.88c-11.45-7.29-11.19 20.55-11.19 20.55"/><g id="XMLID_111_"><path id="XMLID_115_" class="s3" d="M327.89 156.48v3.12h8.59v-3.12a4.291 4.291 0 0 0-7.33-3.04q-.16.16-.3.33c-.6.74-.96 1.69-.96 2.71"/><path id="XMLID_114_" class="s4" d="M327.89 156.48v3.12h7.36v-2.08a4.3 4.3 0 0 0-6.4-3.75c-.6.74-.96 1.69-.96 2.71"/></g></g><path id="XMLID_27_" fill-rule="evenodd" d="M134.81 334.38h230.57v20.04H134.81z" style="fill:none"/><path id="XMLID_139_" fill-rule="evenodd" class="s6" d="m164 177.43-1.04.07-.2-2.29-1.05 3.39 1.04-.07.2 2.3z"/><path id="XMLID_143_" fill-rule="evenodd" class="s6" d="m182.52 166.96-1.03 1.21-2.69-2.22 2.56 4.74 1.03-1.21 2.69 2.22z"/><path id="XMLID_144_" fill-rule="evenodd" class="s6" d="m178.1 178.33-1.73.96-2.17-3.76.92 6.65 1.73-.96 2.18 3.76z"/><path id="XMLID_147_" fill-rule="evenodd" class="s6" d="m322.64 165.15-.89-.55 1.18-1.98-2.84 2.14.89.55-1.18 1.98z"/><path id="XMLID_146_" fill-rule="evenodd" class="s6" d="m343.77 167.51-1.53.37-.89-3.37-.7 5.34 1.54-.37.89 3.37z"/><path id="XMLID_145_" fill-rule="evenodd" class="s6" d="m333.53 174.14-1.96-.24.44-4.32-3.14 5.93 1.96.24-.44 4.32z"/></g>
            </svg>

            <h2 class="text-white fw-bold mb-3">Page Not Found</h2>
            <p class="text-white-50 mb-5 px-md-4">
                The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.
            </p>
            <a href="<?php echo $home_link; ?>" class="btn btn-rooq-primary px-5 rounded-pill shadow-lg">
                <i class="bi bi-house-door me-2"></i> <?php echo $btn_text; ?>
            </a>
        </div>
    </div>

    <script src="<?php echo BASE_URL; ?>assets/js/bootstrap.bundle.min.js"></script>
    <script src="<?php echo BASE_URL; ?>assets/js/main.js"></script>
</body>
</html>